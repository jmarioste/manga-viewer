<!DOCTYPE html>
<html id="html-top">

<head>
    <meta charset="UTF-8">
    <title data-bind="text:appTitle"></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="./">
    <script>
        // You can also require other files to run in this process
        require("./bundle/app-bundle.js");
    </script>
</head>

<body>
    <div class="title-bar cyan darken-2 valign-wrapper" style="-webkit-app-region: drag">
        <img class="product-logo" src="icon.png" alt="">
        <span class="valign app-title" data-bind="text:appTitle"></span>
        <a class="button-icon valign-wrapper" href="javascript:void(0);" data-bind="click:minimize">
            <i class="material-icons valign">space_bar</i>
        </a>
        <a class="button-icon valign-wrapper" href="javascript:void(0);" data-bind="click:maximize">
            <i class="material-icons valign" data-bind="maximizedIcon"></i>
        </a>
        <a class="close-icon valign-wrapper" href="javascript:void(0);" data-bind="click:closeWindow">
            <i class="material-icons valign">close</i>
        </a>
    </div>
    <topbar params="selectedManga:selectedManga,
            favorites: favorites,
            currentPage: currentPage,
            appTitle:appTitle,
            currentViewMangaPage: currentViewMangaPage,
            viewMangaCommand: viewMangaCommand,
            searching: searching,
            appCommands: appCommands">

    </topbar>
    <div class="wrapper show-nav">

        <div class="canvas ">

            <sidebar params="currentFolder: currentFolder,
                selectedDirectory: selectedDirectory,
                bookmarks:bookmarks,
                currentPage: currentPage,
                appCommands: appCommands">
            </sidebar>

            <div class="content" data-bind="template:currentPage(), scrollEnd:scrollEnd, scroll:{suppressScrollX: true}, dragAndDrop:selectedMangaPath">
            </div>
        </div>
    </div>
    <error-dialog></error-dialog>
</body>

<template id="manga-list-view">
    <manga-list params="
            currentFolder: currentFolder,
            selectedDirectory: selectedDirectory,
            bookmarks:bookmarks,
            favorites: favorites,            
            selectedManga:selectedManga,
            currentPage: currentPage,
            pagination: pagination,
            scrollEnd: scrollEnd,
            searching:searching,
            isRecursive:isRecursive,
            appCommands: appCommands">
    </manga-list>
    <file-drag-overlay></file-drag-overlay>
</template>
<template id="favorites-list-view">
    <favorites-list params="favorites:favorites,
            selectedManga:selectedManga,
            currentPage: currentPage">
    </favorites-list>
    <file-drag-overlay></file-drag-overlay>
</template>
<template id="view-manga-view">
    <!-- ko component: {name: 'view-manga', params:{
        favorites:favorites,
        selectedManga:selectedManga,
        selectedMangaPath:selectedMangaPath,
        currentViewMangaPage: currentViewMangaPage,
        viewMangaCommand: viewMangaCommand,
        appCommands: appCommands
    }} -->
    <!-- /ko -->
    <file-drag-overlay></file-drag-overlay>
</template>

<template id="settings-page-view">
    <settings-page params="
            isRecursive: isRecursive, 
            commands:appCommands">

        <settings-page>
            <file-drag-overlay></file-drag-overlay>
</template>

</html>